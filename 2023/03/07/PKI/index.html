<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>小蛋糕</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="PKI证书系统1.散列函数散列函数也叫做HASH函数，主流的散列算法有MD5与SHA-1。散列函数的主要任务是验证数据的完整性。通过散列函数计算得到的结果叫做散列值，这个散列值也常常被称为数据的指纹（Fingerprint）">
<meta property="og:type" content="article">
<meta property="og:title" content="小蛋糕">
<meta property="og:url" content="http://example.com/2023/03/07/PKI/index.html">
<meta property="og:site_name" content="小蛋糕">
<meta property="og:description" content="PKI证书系统1.散列函数散列函数也叫做HASH函数，主流的散列算法有MD5与SHA-1。散列函数的主要任务是验证数据的完整性。通过散列函数计算得到的结果叫做散列值，这个散列值也常常被称为数据的指纹（Fingerprint）">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108225659648.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108225900489.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108230059597.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108230419813.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108231036901.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108231212827.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108232313543.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108232800101.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108232934995.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108232946350.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230109160756504.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230109160810351.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230109161010855.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230109161232691.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230109161947728.png">
<meta property="og:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230109162129643.png">
<meta property="article:published_time" content="2023-03-07T02:26:10.696Z">
<meta property="article:modified_time" content="2023-03-07T02:21:51.535Z">
<meta property="article:author" content="wk">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/wk428/AppData/Roaming/Typora/typora-user-images/image-20230108225659648.png">
  
    <link rel="alternate" href="/atom.xml" title="小蛋糕" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">小蛋糕</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-PKI" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/07/PKI/" class="article-date">
  <time class="dt-published" datetime="2023-03-07T02:26:10.696Z" itemprop="datePublished">2023-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="PKI证书系统"><a href="#PKI证书系统" class="headerlink" title="PKI证书系统"></a>PKI证书系统</h1><h2 id="1-散列函数"><a href="#1-散列函数" class="headerlink" title="1.散列函数"></a>1.散列函数</h2><p>散列函数也叫做HASH函数，主流的散列算法有MD5与SHA-1。散列函数的主要任务是验证数据的完整性。通过散列函数计算得到的结果叫做散列值，这个散列值也常常被称为数据的指纹（Fingerprint）</p>
<span id="more"></span>

<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108225659648.png" alt="image-20230108225659648"></p>
<h3 id="四大特点"><a href="#四大特点" class="headerlink" title="四大特点"></a>四大特点</h3><ol>
<li>固定大小</li>
<li>雪崩效应</li>
<li>单向</li>
<li>冲突避免</li>
</ol>
<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108225900489.png" alt="image-20230108225900489"></p>
<h2 id="对称与非对称密钥算法"><a href="#对称与非对称密钥算法" class="headerlink" title="对称与非对称密钥算法"></a>对称与非对称密钥算法</h2><h3 id="对称密钥算法"><a href="#对称密钥算法" class="headerlink" title="对称密钥算法"></a>对称密钥算法</h3><p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108230059597.png" alt="image-20230108230059597"></p>
<p>优点：1.速度快	2.安全	3.紧凑</p>
<p>缺点：1.明文传输共享密钥，容易出现中途劫持和窃听的问题</p>
<p>​			2.随着参与者数量的增加，密钥数量急剧膨胀((n*(n-1))&#x2F;2)</p>
<p>​			3.因为密钥数量过多，对密钥的管理和存储是一个很大的问题</p>
<p>​			4.不支持数字签名和不可否认性</p>
<h3 id="非对称密钥算法"><a href="#非对称密钥算法" class="headerlink" title="非对称密钥算法"></a>非对称密钥算法</h3><p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108230419813.png" alt="image-20230108230419813"></p>
<p>​	非对称密钥算法的主流协议为RSA,需要每一个参与者产生一对密钥。共享公钥到服务器，严格保障私钥的安全性。根据这种操作的特点，也被称作公共密钥系统。</p>
<p>优点：</p>
<ol>
<li>安全</li>
<li>由于不必担心交换的公钥被劫持，所以非对称密钥的分发更安全</li>
<li>密钥数目和参与者数目相同</li>
<li>在交换公钥之前不需要预先建立某种信任关系</li>
<li>支持数字签名和不可否认性</li>
</ol>
<p>缺点：1.加密速度很慢	2.密文会变长</p>
<img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108231036901.png" alt="image-20230108231036901" style="zoom: 50%;" />

<img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108231212827.png" alt="image-20230108231212827" style="zoom: 50%;" />

<h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h2><p>工作示意图</p>
<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108232313543.png" alt="image-20230108232313543"></p>
<p>运用</p>
<ol>
<li>驱动程序签名</li>
<li>PDF签名</li>
<li>IPSec VPN数字签名认证</li>
</ol>
<h3 id="密钥管理面临的挑战"><a href="#密钥管理面临的挑战" class="headerlink" title="密钥管理面临的挑战"></a>密钥管理面临的挑战</h3><p>在使用任何基于RSA服务之前，一个实体需要真实可靠的获取其他实体的公钥</p>
<ol>
<li>通过非信任的通道，公钥交换必须是安全的。</li>
<li>在密钥交换的过程中，公钥必须不能够被截获和更改。</li>
<li>交换呈现Full Mesh的复杂度。</li>
<li>由最终用户来确认密钥有效性，非常不靠谱</li>
</ol>
<img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108232800101.png" alt="image-20230108232800101" style="zoom:50%;" />

<h3 id="受信任的介绍"><a href="#受信任的介绍" class="headerlink" title="受信任的介绍"></a>受信任的介绍</h3><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108232934995.png" alt="image-20230108232934995" style="zoom:50%;" />

<img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230108232946350.png" alt="image-20230108232946350" style="zoom:50%;" />

<h2 id="证书授权颁发机构（CA）"><a href="#证书授权颁发机构（CA）" class="headerlink" title="证书授权颁发机构（CA）"></a>证书授权颁发机构（CA）</h2><p>PKI（公钥基础设施&#x2F;公共密钥底层架构）</p>
<p>PKI继承了这个概念并使其具有可扩展性：</p>
<ol>
<li>仅仅只有一个受信任的介绍者（证书颁发机构）</li>
<li>CA签署每一个人的公钥</li>
<li>每个人都拥有CA的公钥</li>
</ol>
<p>继：</p>
<ol>
<li>每个实体都要获取CA的公钥（认证CA的过程）</li>
<li>每个实体都要提交自己的公钥给CA（注册到CA）</li>
<li>这个初始步骤，必须手动认证或通过一个可信赖的传输网络来执行</li>
</ol>
<img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230109160756504.png" alt="image-20230109160756504" style="zoom:50%;" />

<img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230109160810351.png" alt="image-20230109160810351" style="zoom:50%;" />

<ol>
<li>实体现在就可以通过非信任的网络来彼此交换被（CA）签了名的公钥了</li>
<li>收到的公钥都是被CA的公钥所确认的，CA的公钥在每一个实体本地必须是有效的</li>
</ol>
<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230109161010855.png" alt="image-20230109161010855"></p>
<h2 id="证书申请步骤"><a href="#证书申请步骤" class="headerlink" title="证书申请步骤"></a>证书申请步骤</h2><h3 id="第一步：同步时间"><a href="#第一步：同步时间" class="headerlink" title="第一步：同步时间"></a>第一步：同步时间</h3><p>时间是整个PKI系统的重中之重，必须要先确保参加PKI系统的设备和主机的时间同步。才能开始PKI的部署。</p>
<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230109161232691.png" alt="image-20230109161232691"></p>
<h3 id="第二步：部署证书服务器"><a href="#第二步：部署证书服务器" class="headerlink" title="第二步：部署证书服务器"></a>第二步：部署证书服务器</h3><p>证书服务器是整个PKI系统的核心，我们可以选择Cisco IOS或者微软的证书服务器。</p>
<h3 id="第三步：客户端产生密钥"><a href="#第三步：客户端产生密钥" class="headerlink" title="第三步：客户端产生密钥"></a>第三步：客户端产生密钥</h3><p>每一个实体在申请证书之前，需要预先产生RSA的密钥对。</p>
<h3 id="第四步：验证证书服务器"><a href="#第四步：验证证书服务器" class="headerlink" title="第四步：验证证书服务器"></a>第四步：验证证书服务器</h3><p>每一个实体需要获取证书服务器的根证书，里包含证书服务器的公钥，获取了根证书后，可以通过fingerprint离线验证证书服务器。</p>
<h3 id="第五步：申请个人证书"><a href="#第五步：申请个人证书" class="headerlink" title="第五步：申请个人证书"></a>第五步：申请个人证书</h3><p>每一个实体发送自己的个人信息和公钥到证书服务器</p>
<h3 id="第六步：审核并签名证书"><a href="#第六步：审核并签名证书" class="headerlink" title="第六步：审核并签名证书"></a>第六步：审核并签名证书</h3><p>管理员对每一个证书请求进行审核，并且对个人信息和公钥内容进行数字签名，签名后的文件即为数字证书。</p>
<h3 id="第七步：颁发数字证书"><a href="#第七步：颁发数字证书" class="headerlink" title="第七步：颁发数字证书"></a>第七步：颁发数字证书</h3><p>证书服务器把签名的证书颁发给实体。</p>
<h3 id="第八步：交换公钥"><a href="#第八步：交换公钥" class="headerlink" title="第八步：交换公钥"></a>第八步：交换公钥</h3><p>交换证书，证明实体与公钥之间的关联，公钥的具体作用由运用来决定。</p>
<h2 id="证书申请与吊销"><a href="#证书申请与吊销" class="headerlink" title="证书申请与吊销"></a>证书申请与吊销</h2><p>证书申请方式：</p>
<p>1.SCEP (Simple Certificate Enrollment Protocol)for VPN devices</p>
<p>2.File-based (PKCS#10)</p>
<p>3.Web-based(browser-to-CA)</p>
<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230109161947728.png" alt="image-20230109161947728"></p>
<p>证书吊销方式：</p>
<p><img src="C:\Users\wk428\AppData\Roaming\Typora\typora-user-images\image-20230109162129643.png" alt="image-20230109162129643"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/07/PKI/" data-id="clexmqxgp0009fcvfacja47az" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/03/07/%E9%98%B2%E7%81%AB%E5%A2%99/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2023/03/07/VLAN(Virtual%20LAN)%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/07/%E5%9F%9F/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/03/07/%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/03/07/%E6%89%AB%E6%8F%8F%E4%B8%8E%E7%88%86%E7%A0%B4/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/03/07/%E6%89%B9%E5%A4%84%E7%90%86%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/03/07/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%EF%BC%882%E5%B1%82%20Data%20Link%20Layer%EF%BC%89/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 wk<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>